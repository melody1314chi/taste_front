import{u as V,W as y,h,c as g,g as b,w as a,a4 as v,o as n,d as o,S as d,T as i,b as u,F as w,r as x}from"./index-CdXrf5kD.js";import{b as p}from"./route-block-B_A1xBdJ.js";import{V as A}from"./VContainer-CBe7NjUn.js";import{V as D}from"./VRow-Dxr6VA6r.js";import{V as m}from"./VCol-BRjPifxR.js";import{V as B}from"./VDivider-DPAZxzmH.js";import{V as S}from"./VDataTable-EUdJA9on.js";import"./VSelect-2vZZD2Fw.js";import"./VList-Cud8LMjt.js";import"./VMenu-B_iMJIJ1.js";import"./VChip-imuWjBtc.js";const C={class:"text-center"},q={__name:"orders",setup(E){const{apiAuth:f}=v(),{t:s}=V(),_=y(),l=h([]),k=g(()=>[{title:"ID",key:"_id"},{title:s("order.createdAt"),key:"createdAt",value:t=>new Date(t.createdAt).toLocaleString()},{title:s("order.cart"),key:"cart",sortable:!1},{title:s("order.price"),key:"price",value:t=>t.cart.reduce((r,e)=>r+e.product.price*e.quantity,0)}]);return(async()=>{var t,r;try{const{data:e}=await f.get("/order");l.value=e.result}catch(e){console.log(e),_({text:s("api."+(((r=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:r.message)||"unknownError")),snackbarProps:{color:"red"}})}})(),(t,r)=>(n(),b(A,null,{default:a(()=>[o(D,null,{default:a(()=>[o(m,{cols:"12"},{default:a(()=>[d("h1",C,i(t.$t("nav.orders")),1)]),_:1}),o(B),o(m,{cols:"12"},{default:a(()=>[o(S,{items:l.value,headers:k.value},{"item.cart":a(e=>[d("ul",null,[(n(!0),u(w,null,x(e.item.cart,c=>(n(),u("li",{key:c._id},i(c.product.name)+" x "+i(c.quantity),1))),128))])]),_:2},1032,["items","headers"])]),_:1})]),_:1})]),_:1}))}};typeof p=="function"&&p(q);export{q as default};
