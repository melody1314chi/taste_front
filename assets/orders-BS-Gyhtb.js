import{u as y,P as V,h,c as g,f as b,w as o,$ as v,o as n,d as s,am as d,T as l,b as u,F as w,r as x}from"./index-BJ5mKrdB.js";import{b as m}from"./route-block-B_A1xBdJ.js";import{V as A}from"./VContainer-D9u67iRf.js";import{V as D}from"./VRow-C-TIxZZV.js";import{V as p}from"./VCol-BTinVxch.js";import{V as B}from"./VDivider-CdbKQ_Fw.js";import{V as C}from"./VDataTable-BdSL0eSa.js";import"./VSelect-D5Udv7xP.js";import"./VList-BScphOTg.js";import"./VMenu-CcMWMFbz.js";import"./VChip-B8gmADKn.js";const O={class:"text-center"},S={__name:"orders",setup(q){const{apiAuth:f}=v(),{t:r}=y(),_=V(),i=h([]),k=g(()=>[{title:"ID",key:"_id"},{title:r("order.account"),key:"user.account"},{title:r("order.createdAt"),key:"createdAt",value:t=>new Date(t.createdAt).toLocaleString()},{title:r("order.cart"),key:"cart",sortable:!1},{title:r("order.price"),key:"price",value:t=>t.cart.reduce((a,e)=>a+e.product.price*e.quantity,0)}]);return(async()=>{var t,a;try{const{data:e}=await f.get("/order/all");i.value=e.result}catch(e){console.log(e),_({text:r("api."+(((a=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:a.message)||"unknownError")),snackbarProps:{color:"red"}})}})(),(t,a)=>(n(),b(A,null,{default:o(()=>[s(D,null,{default:o(()=>[s(p,{cols:"12"},{default:o(()=>[d("h1",O,l(t.$t("nav.adminOrders")),1)]),_:1}),s(B),s(p,{cols:"12"},{default:o(()=>[s(C,{items:i.value,headers:k.value},{"item.cart":o(e=>[d("ul",null,[(n(!0),u(w,null,x(e.item.cart,c=>(n(),u("li",{key:c._id},l(c.product.name)+" x "+l(c.quantity),1))),128))])]),_:2},1032,["items","headers"])]),_:1})]),_:1})]),_:1}))}};typeof m=="function"&&m(S);export{S as default};
